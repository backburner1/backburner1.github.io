<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nicolas Server</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:'Inter',sans-serif}

/* ================= BASE ================= */
body{
margin:0;height:100vh;
display:flex;
background:linear-gradient(135deg,#6366f1,#8b5cf6);
overflow:hidden;
}

.hidden{display:none}

/* ================= ANIM ================= */
.fade{
animation:fade .5s ease;
}
.slide{
animation:slide .6s cubic-bezier(.4,0,.2,1);
}
.pop{
animation:pop .4s ease;
}

@keyframes fade{
from{opacity:0}
to{opacity:1}
}
@keyframes slide{
from{opacity:0;transform:translateY(30px)}
to{opacity:1;transform:translateY(0)}
}
@keyframes pop{
from{opacity:0;transform:scale(.9)}
to{opacity:1;transform:scale(1)}
}

/* ================= WELCOME ================= */
#welcome{
position:fixed;inset:0;
display:flex;align-items:center;justify-content:center;
background:radial-gradient(circle at top,#6366f1,#312e81);
color:#fff;z-index:999;
animation:fade 1s ease forwards;
}
#welcome h1{
font-size:38px;
letter-spacing:2px;
animation:slide 1.2s ease;
}

/* ================= LOGIN ================= */
#login{
position:fixed;inset:0;
display:flex;align-items:center;justify-content:center;
backdrop-filter:blur(20px);
background:rgba(15,23,42,.45);
z-index:100;
}
.login-box{
width:340px;
padding:36px;
border-radius:28px;
background:rgba(255,255,255,.16);
box-shadow:0 40px 90px rgba(0,0,0,.35);
color:#fff;
animation:pop .7s ease;
}
.login-box h2{
text-align:center;
margin-bottom:22px;
}
.login-box select,
.login-box input{
width:100%;
padding:14px;
margin:10px 0;
border-radius:16px;
border:none;
outline:none;
}
.login-box button{
width:100%;
padding:14px;
border-radius:16px;
border:none;
background:#fff;
color:#4f46e5;
font-weight:700;
cursor:pointer;
transition:.25s;
}
.login-box button:hover{
transform:translateY(-2px);
box-shadow:0 12px 30px rgba(0,0,0,.2);
}
.login-box button:active{
transform:scale(.95);
}

/* ================= APP ================= */
#app{display:none;width:100%}

/* SIDEBAR */
.sidebar{
width:260px;
background:rgba(255,255,255,.14);
backdrop-filter:blur(18px);
padding:20px;
color:#fff;
animation:slide .6s ease;
}
.sidebar button{
width:100%;
margin:8px 0;
padding:14px;
border-radius:18px;
border:none;
background:rgba(255,255,255,.18);
color:#fff;
cursor:pointer;
transition:.3s;
}
.sidebar button:hover{
background:rgba(255,255,255,.3);
transform:translateX(6px);
}

/* MAIN */
.main{
flex:1;
background:#f8fafc;
padding:30px;
border-top-left-radius:40px;
overflow:auto;
animation:fade .6s ease;
}

/* ================= CONTENT ================= */
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}

.card{
background:#fff;
padding:20px;
border-radius:22px;
box-shadow:0 20px 40px rgba(0,0,0,.12);
cursor:pointer;
animation:slide .6s ease;
transition:.3s;
}
.card:hover{
transform:translateY(-6px);
box-shadow:0 30px 60px rgba(0,0,0,.2);
}

textarea{
width:100%;
height:300px;
border-radius:20px;
padding:18px;
font-family:monospace;
border:1px solid #ddd;
transition:.2s;
}
textarea:focus{
outline:none;
border-color:#6366f1;
box-shadow:0 0 0 4px rgba(99,102,241,.2);
}

.tabs{
display:flex;
gap:10px;
margin-bottom:12px;
flex-wrap:wrap;
}
.tab{
padding:10px 16px;
border-radius:14px;
background:#e5e7eb;
cursor:pointer;
transition:.25s;
}
.tab.active{
background:#6366f1;
color:#fff;
transform:scale(1.05);
}

.actions{
display:flex;
gap:12px;
margin-top:14px;
flex-wrap:wrap;
}
.actions button{
padding:12px 18px;
border-radius:14px;
border:none;
cursor:pointer;
background:#6366f1;
color:#fff;
transition:.25s;
}
.actions button:hover{
transform:translateY(-2px);
box-shadow:0 12px 28px rgba(99,102,241,.4);
}
</style>
</head>

<body>

<!-- WELCOME -->
<div id="welcome">
  <h1>Welcome to Nicolas Server</h1>
</div>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h2>Backburner Login</h2>
    <select id="userInput">
      <option>Nicolas Tok</option>
      <option>clairine</option>
      <option>wixander</option>
      <option>angel</option>
    </select>
    <input id="passInput" type="password" placeholder="Password">
    <button onclick="handleLogin()">Masuk</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="sidebar" id="menu"></div>

  <div class="main fade">
    <div id="home">
      <h1>Beranda Materi Nicolas</h1>
      <div class="grid" id="homeList"></div>
    </div>

    <div id="editor" class="hidden">
      <h1>Code Editor</h1>
      <div class="tabs" id="tabs"></div>
      <textarea id="codeArea"></textarea>
      <div class="actions">
        <button onclick="newFile()">New</button>
        <button onclick="saveFile()">Save</button>
        <button onclick="renameFile()">Rename</button>
        <button onclick="deleteFile()">Delete</button>
      </div>
    </div>

    <div id="submit" class="hidden">
      <h1>Kumpul Tugas</h1>
      <input id="taskName" placeholder="Nama File">
      <textarea id="taskCode"></textarea>
      <button onclick="submitTask()">Kumpulkan</button>
    </div>

    <div id="tasks" class="hidden">
      <h1>Dashboard Tugas</h1>
      <div class="grid" id="taskList"></div>
    </div>

    <div id="password" class="hidden">
      <h1>Ganti Password</h1>
      <div id="adminPass" class="hidden">
        <select id="targetUser"></select>
        <input id="newPassAdmin" placeholder="Password Baru">
        <button onclick="changeUserPass()">Simpan</button>
      </div>
      <input id="oldPass" type="password" placeholder="Password Lama">
      <input id="newPassSelf" type="password" placeholder="Password Baru">
      <button onclick="changeMyPass()">Ganti</button>
    </div>
  </div>
</div>

<script>
/* WELCOME */
setTimeout(()=>welcome.style.display="none",2500);

/* DATA */
const defaultUsers={
"Nicolas Tok":{pass:"ber217an",role:"admin"},
"clairine":{pass:"backburner",role:"user"},
"wixander":{pass:"backburner",role:"user"},
"angel":{pass:"backburner",role:"user"}
};

let users=JSON.parse(localStorage.getItem("users"))||defaultUsers;
localStorage.setItem("users",JSON.stringify(users));

let currentUser=null;
let files=JSON.parse(localStorage.getItem("files"))||{};
let tasks=JSON.parse(localStorage.getItem("tasks"))||{};
let currentFile=null;

/* LOGIN */
function handleLogin(){
if(users[userInput.value]?.pass===passInput.value){
currentUser=userInput.value;
login.style.display="none";
app.style.display="flex";
buildMenu();
renderHome();
}else alert("Password salah");
}

/* MENU */
function buildMenu(){
menu.innerHTML=`
<button onclick="show('home')">üè† Beranda</button>
${users[currentUser].role==="admin"?`
<button onclick="show('editor')">üíª Editor</button>
<button onclick="show('tasks')">üì• Tugas</button>`:""}
<button onclick="show('submit')">üìù Kumpul Tugas</button>
<button onclick="show('password')">üîê Password</button>
<button onclick="location.reload()">üö™ Keluar</button>`;
}

/* NAV */
function show(id){
["home","editor","submit","tasks","password"].forEach(x=>{
const el=document.getElementById(x);
el.classList.add("hidden");
});
const page=document.getElementById(id);
page.classList.remove("hidden");
page.classList.add("slide");
setTimeout(()=>page.classList.remove("slide"),600);

if(id==="home")renderHome();
if(id==="tasks")renderTasks();
if(id==="password"&&users[currentUser].role==="admin"){
adminPass.classList.remove("hidden");
loadUserList();
}else adminPass.classList.add("hidden");
}

/* HOME */
function renderHome(){
homeList.innerHTML="";
Object.keys(files).forEach((f,i)=>{
const c=document.createElement("div");
c.className="card";
c.style.animationDelay=i*0.05+"s";
c.innerText=f;
c.onclick=()=>alert(files[f]);
homeList.appendChild(c);
});
}

/* EDITOR */
function renderTabs(){
tabs.innerHTML="";
Object.keys(files).forEach(f=>{
const t=document.createElement("div");
t.className="tab"+(f===currentFile?" active":"");
t.innerText=f;
t.onclick=()=>{currentFile=f;codeArea.value=files[f];renderTabs()};
tabs.appendChild(t);
});
}
function newFile(){currentFile=null;codeArea.value=""}
function saveFile(){
const name=currentFile||prompt("Nama File");
if(!name)return;
files[name]=codeArea.value;
currentFile=name;
saveFiles();renderTabs();renderHome();
}
function renameFile(){
const n=prompt("Nama Baru");
files[n]=files[currentFile];
delete files[currentFile];
currentFile=n;
saveFiles();renderTabs();renderHome();
}
function deleteFile(){
if(confirm("Hapus?")){
delete files[currentFile];
currentFile=null;codeArea.value="";
saveFiles();renderTabs();renderHome();
}
}

/* TASK */
function submitTask(){
tasks[currentUser+"-"+taskName.value]=taskCode.value;
saveTasks();alert("Tugas dikirim");
taskName.value="";taskCode.value="";
}
function renderTasks(){
taskList.innerHTML="";
Object.keys(tasks).forEach((t,i)=>{
const c=document.createElement("div");
c.className="card";
c.style.animationDelay=i*0.05+"s";
c.innerHTML=`<b>${t}</b><pre>${tasks[t]}</pre>`;
taskList.appendChild(c);
});
}

/* PASSWORD */
function loadUserList(){
targetUser.innerHTML="";
Object.keys(users).forEach(u=>{
const o=document.createElement("option");
o.innerText=u;targetUser.appendChild(o);
});
}
function changeUserPass(){
users[targetUser.value].pass=newPassAdmin.value;
localStorage.setItem("users",JSON.stringify(users));
alert("Password diganti");
}
function changeMyPass(){
if(oldPass.value!==users[currentUser].pass)return alert("Password lama salah");
users[currentUser].pass=newPassSelf.value;
localStorage.setItem("users",JSON.stringify(users));
alert("Password berhasil diubah");
}

function saveFiles(){localStorage.setItem("files",JSON.stringify(files))}
function saveTasks(){localStorage.setItem("tasks",JSON.stringify(tasks))}
</script>

</body>
</html>
